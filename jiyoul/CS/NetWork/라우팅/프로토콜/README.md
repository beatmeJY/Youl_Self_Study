# 📂 라우팅 프로토콜  

이번시간에는 라우팅 프로토콜에 대해 알아보려고 한다!  

시작하기에 앞서 먼저 라우팅에 대해 간단하게 설명해보자면..  
네트워크 상에서 가장 정확하고 빠르게 데이터 패킷을 전송할 수 있는 경로로 찾아 보내주는 과정이라고 생각하면 쉽다!😉  

이런 라우팅을 하기 위한 기법이 두가지 존재하는데,  
먼저 **정적 라우팅** 기법과 **동적 라우팅** 기법이 있다.  

## 정적 라우팅이란?  
* 관리자에 의해 라우팅 테이블을 유지/관리 하는 기법이라고 볼 수 있다.  
* 라우팅 테이블을 교환 하지 않고 라우팅이 가능하기 때문에 네트워크 비용도 절약 할 수 있고, 외부에 자신의 경로를 알리지 않아 보안에도 강하다는 장점이 있다.  
* 하지만 경로에 문제가 생길 경우 대처하기 힘들다는 단점이 있다.  

## 동적 라우팅이란?  
* 라우팅 테이블을 라우팅 프로토콜에 자동으로 의해 관리하는 기법이다.  
* 각 라우팅 프로토콜에 따라 라우터가 판단하여 가장 효율적인 방법으로 패킷을 전송시킨다.   
* 라우팅 프로토콜은 내부 라우팅(IGP)과 외부 라우팅(EGP)으로 나뉜다.  
	- 내부 라우팅(IGP) : RIP, IGRP, EIGRP, OSPF  
	- 외부 라우팅(EGP) : BGP  
  

# 🌴라우팅 프로토콜 종류  
  
## RIP (Routing Information Protocol)
* 최단 경로 알고리즘을 사용하는 내부 게이트웨이 프로토콜이다.   
* 홉(hop) 수를 기반으로 경로를 결정한다.  
* 경로 업데이트를 주기적으로 브로드 캐스트 하여 라우팅 테이블을 동기화 한다.  
* RIP는 버전1과 2가 있는데 버전2 에선 추가로 네트워크 세그먼트를 분할하여 라우팅 하는 기능도 제공한다.  

## IGRP (Interior Gateway Routing Protocol)  
* 대역폭, 지연, 신뢰성, 부하 등 다양한 요인을 고려하여 최적 경로를 선택하는 복잡한 경로 선택 알고리즘을 사용한다.
* 비교적 작은 네트워크에서 사용하기 적합하다.
* 주기적으로 업데이트 메세지를 이웃 라우터에게 보낸다.

## EIGRP (Enhanced Interior Gateway Routing Protocol)
* 고급 내부 게이트웨이 라우팅 프로토콜이다.
* EIGRP는 IGRP의 향상된 버전으로 동일한 복잡한 경로 선택 알고리즘을 사용한다. 대역폭, 지연, 신뢰성, 부하 등 다양한 요인을 고려하여 최적 경로를 한다.
* 정보 교환은 이벤트 발생 시에만 일어난다.
* 거리 백터와 링크 상태 프로토콜을 결합 한 하이브리드 라우팅 프로토콜 종류이다.
* 이웃 라우터와 주기적으로 업데이트 메시지를 교환하여 경로 정보를 수집하고, 이는 병렬로 처리 되어 네트워크 상태 변경에 신속한 대응이 가능하다.

## OSPF (Open Shortest Path First)
* 네트워크의 상태 정보를 교환하여 최적의 경로를 계산한다.  
* 복잡한 네트워크 환경에서 사용된다. (구조적인 네트워크 설계에 유용하다.)  
* 경로의 가중치를 고려하여 최단 경로를 계산한다.  
* 대규모 네트워크에서 확장성이 좋다.
* Area 영역의 유형 중 하나인 Stub 영역을 사용하여 디폴트 라우팅을 통해 외부로 나가는 경로는 단일한 경로로 설정할 수 있고, 이를 통해 다른 영역과의 연결에 제한을 두어 내부 네트워크에 대한 경로를 간소화 할 수 있다.
* LSA 메세지 형식을 사용하며 주변 라우터에게 전파하여 데이터베이스를 동기화한다.

## BGP (Border Gateway Protocol)
* 인터넷에서 사용되는 **외부 게이트웨이** 프로토콜이다.
* 인터넷 서비스 제공자(ISP) 사이에서 경로 교환을 위해 사용된다.
* 경로의 속성을 고려하여 최적의 경로로 선택한다.
* BGP는 장애가 발생하면 하나의 국가, 전 세계 네트워크까지도 영향을 미칠 수 있다.
* IGP의 네트워크는 많아봐야 수천개가 넘지 않지만 BGP는 보통 수만개에서 수십만개 이상의 네트워크가 라우팅테이블에 인스톨 된다.  

|              | RIP           | IGRP | EIGRP | OSPF                 | BGP                 |
| ------------ | ------------- | ---- | ----- | -------------------- | ------------------- |
| **라우팅** | 거리 벡터 라우팅   | 거리 벡터 라우팅 | 하이브리드 라우팅(거리백터, 링크 상태) | 링크 상태 라우팅 | 거리 벡터 라우팅 |
| **계산단위** | 홉 수(간단한 메트릭)  | 복합 메트릭 | 대역폭 (ex. 100Mbps = 100) | Area(연속된 망 집합) | AS 경로와 속성, 정책기반 |
| **정보기록** | 라우팅 테이블 | 라우팅 테이블 | 라우팅 테이블 | LSDB | BGP 테이블 |
| **정보수집** | 30초 주기     | 90초 주기 | 연결 상태, 경로 변화, 인터페이스 상태 변경 등 이벤트 감지 시| 필요시 변경정보수집  | 필요시 변경정보수집 |
| **특징**       | 홉제한        | 비용 매트릭 | DUAL 알고리즘 | Dijkstra 알고리즘  | TCP활용             |
| **적용**       | 소규모        | 소규모 | 대규모 | 중대규모망(AS 내에서)  | 대규모망(AS경계 넘어 외부) |
| **방식**       | 브로드캐스트 | 유니캐스트 | 유니캐스트, 멀티캐스트, 브로드캐스트 | 멀티캐스트 | 유니캐스트 |

라우팅 프로토콜 관련 Dijkstra 알고리즘 등은 추후에 더 깊게 파보도록 하자...